{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nexport let AppointmentsComponent = class AppointmentsComponent {\n  constructor(router, appointmentServices) {\n    this.router = router;\n    this.appointmentServices = appointmentServices;\n    this.appointments = [];\n    this.searchTerm = '';\n  }\n  ngOnInit() {\n    this.getAllAppointment();\n  }\n  getAllAppointment() {\n    this.appointmentServices.getAllAppointments().subscribe(res => {\n      this.appointments = res;\n      this.filteredAppointments = [...this.appointments];\n    });\n  }\n  deleteAppointment(id) {\n    console.log('Deleting appointment with ID:', id);\n    this.appointments = this.appointments.filter(appointment => appointment.id !== id);\n    this.getAllAppointment();\n  }\n  filterAppointments() {\n    if (this.searchTerm.trim() !== '') {\n      this.filteredAppointments = this.appointments.filter(appointment => appointment.pet.name.toLowerCase().includes(this.searchTerm.toLowerCase()) || appointment.petOwner.name.toLowerCase().includes(this.searchTerm.toLowerCase()) || appointment.reason.toLowerCase().includes(this.searchTerm.toLowerCase()));\n    } else {\n      this.filteredAppointments = [...this.appointments];\n    }\n  }\n};\nAppointmentsComponent = __decorate([Component({\n  selector: 'app-appointments',\n  templateUrl: './appointments.component.html',\n  styleUrls: ['./appointments.component.css']\n})], AppointmentsComponent);","map":{"version":3,"names":["Component","AppointmentsComponent","constructor","router","appointmentServices","appointments","searchTerm","ngOnInit","getAllAppointment","getAllAppointments","subscribe","res","filteredAppointments","deleteAppointment","id","console","log","filter","appointment","filterAppointments","trim","pet","name","toLowerCase","includes","petOwner","reason","__decorate","selector","templateUrl","styleUrls"],"sources":["E:\\pets-appoinments-app\\src\\app\\appointments\\appointments.component.ts"],"sourcesContent":["import { HttpClient, HttpHeaders } from '@angular/common/http';\nimport { Component } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { Observable } from 'rxjs';\nimport { AppointmentService } from '../services/appointment.service';\nimport { AppointmentResponseModel } from '../models/response.models';\n\n@Component({\n  selector: 'app-appointments',\n  templateUrl: './appointments.component.html',\n  styleUrls: ['./appointments.component.css']\n})\nexport class AppointmentsComponent {\n  appointments: AppointmentResponseModel[] = [];\n  \n  filteredAppointments!: AppointmentResponseModel[];\n  searchTerm: string = '';\n\n  constructor(\n    private router: Router, \n    private appointmentServices : AppointmentService\n\n   ) { }\n\n  ngOnInit(): void {\n    this.getAllAppointment();\n  }\n\n  \n  getAllAppointment(){\n    this.appointmentServices.getAllAppointments().subscribe( (res: any[]) => {\n       this.appointments = res;\n       this.filteredAppointments = [...this.appointments]; \n    })\n  }\n  deleteAppointment(id: number): void {\n    console.log('Deleting appointment with ID:', id);\n    this.appointments = this.appointments.filter(appointment => appointment.id !== id);\n    this.getAllAppointment();\n  }\n\n  filterAppointments(): void {\n    if (this.searchTerm.trim() !== '') {\n      this.filteredAppointments = this.appointments.filter(appointment =>\n        appointment.pet.name.toLowerCase().includes(this.searchTerm.toLowerCase()) ||\n        appointment.petOwner.name.toLowerCase().includes(this.searchTerm.toLowerCase()) ||\n        appointment.reason.toLowerCase().includes(this.searchTerm.toLowerCase())\n      );\n    } else {\n      this.filteredAppointments = [...this.appointments];\n    }\n  }\n  \n  \n}\n"],"mappings":";AACA,SAASA,SAAS,QAAQ,eAAe;AAWlC,WAAMC,qBAAqB,GAA3B,MAAMA,qBAAqB;EAMhCC,YACUC,MAAc,EACdC,mBAAwC;IADxC,KAAAD,MAAM,GAANA,MAAM;IACN,KAAAC,mBAAmB,GAAnBA,mBAAmB;IAP7B,KAAAC,YAAY,GAA+B,EAAE;IAG7C,KAAAC,UAAU,GAAW,EAAE;EAMlB;EAELC,QAAQA,CAAA;IACN,IAAI,CAACC,iBAAiB,EAAE;EAC1B;EAGAA,iBAAiBA,CAAA;IACf,IAAI,CAACJ,mBAAmB,CAACK,kBAAkB,EAAE,CAACC,SAAS,CAAGC,GAAU,IAAI;MACrE,IAAI,CAACN,YAAY,GAAGM,GAAG;MACvB,IAAI,CAACC,oBAAoB,GAAG,CAAC,GAAG,IAAI,CAACP,YAAY,CAAC;IACrD,CAAC,CAAC;EACJ;EACAQ,iBAAiBA,CAACC,EAAU;IAC1BC,OAAO,CAACC,GAAG,CAAC,+BAA+B,EAAEF,EAAE,CAAC;IAChD,IAAI,CAACT,YAAY,GAAG,IAAI,CAACA,YAAY,CAACY,MAAM,CAACC,WAAW,IAAIA,WAAW,CAACJ,EAAE,KAAKA,EAAE,CAAC;IAClF,IAAI,CAACN,iBAAiB,EAAE;EAC1B;EAEAW,kBAAkBA,CAAA;IAChB,IAAI,IAAI,CAACb,UAAU,CAACc,IAAI,EAAE,KAAK,EAAE,EAAE;MACjC,IAAI,CAACR,oBAAoB,GAAG,IAAI,CAACP,YAAY,CAACY,MAAM,CAACC,WAAW,IAC9DA,WAAW,CAACG,GAAG,CAACC,IAAI,CAACC,WAAW,EAAE,CAACC,QAAQ,CAAC,IAAI,CAAClB,UAAU,CAACiB,WAAW,EAAE,CAAC,IAC1EL,WAAW,CAACO,QAAQ,CAACH,IAAI,CAACC,WAAW,EAAE,CAACC,QAAQ,CAAC,IAAI,CAAClB,UAAU,CAACiB,WAAW,EAAE,CAAC,IAC/EL,WAAW,CAACQ,MAAM,CAACH,WAAW,EAAE,CAACC,QAAQ,CAAC,IAAI,CAAClB,UAAU,CAACiB,WAAW,EAAE,CAAC,CACzE;KACF,MAAM;MACL,IAAI,CAACX,oBAAoB,GAAG,CAAC,GAAG,IAAI,CAACP,YAAY,CAAC;;EAEtD;CAGD;AA1CYJ,qBAAqB,GAAA0B,UAAA,EALjC3B,SAAS,CAAC;EACT4B,QAAQ,EAAE,kBAAkB;EAC5BC,WAAW,EAAE,+BAA+B;EAC5CC,SAAS,EAAE,CAAC,8BAA8B;CAC3C,CAAC,C,EACW7B,qBAAqB,CA0CjC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}